<div class="position-relative">
  <button class="nav-link" type="button" (click)="toggleNotifications()">
    <div class="d-none d-lg-block">
      <i class="far fa-message"></i>
      @if (unreadCount > 0){
        <span class="badge bg-danger badge-dot rounded-circle d-flex justify-content-center">{{ unreadCountDisplay }}</span>
      }
    </div>
    <div class="d-lg-none">
      <span>Notifications</span>
      @if (unreadCount > 0){
        <span class="badge bg-danger rounded-circle ms-1">{{ unreadCountDisplay }}</span>
      }
    </div>
  </button>
  <div class="notification-menu shadow-sm" [class.d-none]="!showNotifications">
    <div class="dropdown-header fw-bold fs-6">
      <i class="far fa-comment me-3"></i>Notifications
    </div>
    <div class="px-3 py-2 max-vh-50 overflow-auto">
      @for (notification of notificationsNotRead; track $index) {
        <a  class="dropdown-item border-bottom border-1 border-dark-subtle" (click)="collapseNavbar()" [routerLink]="['/notifications-reads', notification.id]">{{ notification.title }}</a>
      }
    </div>
    <hr class="dropdown-divider">
    <a class="dropdown-item text-muted" routerLink="/notifications" (click)="collapseNavbar()">
      <i class="far fa-eye me-3"></i>See all notifications
    </a>
  </div>
</div>
