<div class="container text-center">
  @if (plans.length) {
    <ul class="program-list mt-3">
      @for (plan of plans; track $index) {
        <li (click)="showPlanInfo(plan.id)" class="plan">
          <div class="d-flex">
            <div class="col-4 col-md-2 text-white text-uppercase text-center"
                 [ngClass]="{'food-color': plan.category == 'food','sport-color': plan.category == 'sport','sleep-color': plan.category == 'sleep'}">
              {{ plan.category }}
            </div>
            <div class="col-8 col-md-4 ps-3 text-start">
              Duration: {{ plan.durationInDays }} days
            </div>
          </div>

          <div class="p-1 bg-dark-subtle border-4 border-light-subtle border-bottom ">
            <div class="p-3 d-flex justify-content-between align-items-center">
              <div class="text-start">
                {{ plan.name }}
              </div>
              @if (plan == selectedPlan) {
                <ul class="d-flex flex-wrap gap-2">
                  @for (astPlansTags of tags; track $index) {
                    <li class="badge text-bg-dark p-2">{{ astPlansTags.tag.name }}</li>
                  }
                </ul>
              }
            </div>

            @if (plan == selectedPlan) {
              <div>
                <app-plan-info [plan]="selectedPlan"></app-plan-info>
              </div>
            }

            <div class="d-flex gap-1 p-3">
              <button class="rounded text-uppercase p-2 custom-btn w-50"
                      (click)="goToUpdateForm(plan.id)">Update
              </button>
              <button class="rounded text-uppercase p-2 custom-btn w-50"
                      (click)="deletePlan(plan.id)">Delete
              </button>
            </div>

          </div>
        </li>
      }
    </ul>
  } @else {
    <div class="alert alert-warning text-center mt-4" role="alert">
      <h1 class="display-4">You have no plans !</h1>
    </div>
  }

</div>
