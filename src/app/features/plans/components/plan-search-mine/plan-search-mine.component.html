<div class="d-flex justify-content-center mt-3">
  <div class="rounded-3 overflow-hidden">
    <button type="button" class="page-btn p-2" (click)="previousPage()" style="width: 50px" [disabled]="pageNumber <= 1">
      <i class="fa-solid fa-angle-left"></i>
    </button>

    <input type="button" class="page-btn p-2" [value]="pageNumber" style="width: 100px">

    <button type="button" class="page-btn p-2" (click)="nextPage()" style="width: 50px">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
</div>

@if (plans.length) {
  <ul class="program-list container mt-3 overflow-auto pt-3" style="height: 80vh">
    @for (plan of plans; track $index) {
      <li (click)="showPlanInfo(plan.id)" class="plan">
        <div class="d-flex">
          <div class="col-4 col-md-2 text-white text-uppercase text-center"
               [ngClass]="{'food-color': plan.category == 'food','sport-color': plan.category == 'sport','sleep-color': plan.category == 'sleep'}">
            {{ plan.category }}
          </div>
          <div class="col-auto ps-3 pe-3 text-start border-top border-end border-dark-subtle">
            Duration : {{ plan.durationInDays }} days
          </div>
        </div>

        <div class="pt-3 pb-3 p-1 ps-md-2 pe-md-2 p-lg-3 bg-dark-subtle border-3 border-light-subtle border-bottom">
          <div class="text-start text-break">
            {{ plan.name }}
          </div>
          @if (selectedPlan && plan.id == selectedPlan.id) {
            <hr class="mt-1 mb-2">
            <div>
              <app-plan-info [plan]="selectedPlan" [tags]="tags"></app-plan-info>
            </div>
          }
        <div class="d-flex gap-1 p-3">
          <button class="rounded text-uppercase p-2 custom-btn w-50"
                  (click)="goToUpdateForm(plan.id)">Update
          </button>
          <button class="rounded text-uppercase p-2 custom-btn w-50"
                  (click)="deletePlan($event, plan.id)">Delete
          </button>
        </div>
        </div>
      </li>
    }
  </ul>
} @else {
  <div class="alert alert-warning text-center mt-4" role="alert">
    <h2 class="display-4">No plans found</h2>
  </div>
}
