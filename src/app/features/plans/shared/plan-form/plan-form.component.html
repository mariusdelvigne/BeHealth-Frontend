<div class="container text-center">
  <form class="m-3 p-3 rounded" [formGroup]="form" (submit)="submit()" [@colorChange]="colorChange">
    <div class="row mt-3 mb-2">
      <div class="col-2">
        <input class="form-control h-100" formControlName="name" placeholder="Title">
      </div>
      <div class="col-2">
        <select class="form-control h-100" formControlName="privacy">
          <option value="private">Private</option>
          <option value="public">Public</option>
        </select>
      </div>

      <div class="col-2">
        <select class="form-control h-100" formControlName="category">
          <option value="sport">Sport</option>
          <option value="food">Food</option>
          <option value="sleep">Sleep</option>
        </select>
      </div>

      <div class="col-2">
        <label>
          Duration (days) <input type="number" class="form-control h-100" formControlName="durationInDays">
        </label>
      </div>


      @if (mode == "create") {
        <div class="col-2">
          <input class="btn btn-primary h-100 w-50 custom-btn" type="submit" [disabled]="form.invalid" value="Create">
        </div>
      } @else if (mode == "update") {
        <div class="col-2">
          <input class="btn btn-primary h-100 w-50 custom-btn" type="submit" [disabled]="form.invalid" value="Save">
        </div>
      }
    </div>

      <div>
        <input #tagInput class="form-control w-25" type="text" placeholder="Tags" list="tagList" formControlName="name" (keydown.enter)="addTag(tagInput)" id="name" >
        <datalist id="tagList">
          @for (tag of tags; track tag.id) {
            <option [value]="tag.name"></option>
          }
        </datalist>
      </div>

      <div class="mt-2">
        @for (tag of tagsList; track tag.id) {
          <span class="badge bg-secondary m-1">
            {{ tag.name }} <button type="button" class="btn-close btn-close-white ms-2" aria-label="Close" (click)="removeTag(tag)">
          </button>
          </span>
        }
      </div>

    <div>
      <textarea class="form-control w-100" formControlName="description" placeholder="Description" style="min-height: 25vh"></textarea>
    </div>
  </form>
</div>
